<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
    <title>Boolzap</title>
</head>
<body>
    <div id="root" class="py-2 px-4">
        <div class="d-flex flex-grow-1 wa-container">
            <!--CONTAINER LEFT-->
            <div class="contact-container d-flex flex-column px-0 col-4 border">
                <div class="user py-2 border d-flex flex-row justify-content-between">
                    <!--USER INFO-->
                    <div class="user-info d-flex">
                        <img src="img-bolzapp/avatar_io.jpg" class="ps-2" alt="Sofia">
                        <h2 class="fs-6 align-self-center">Sofia</h2>
                    </div>
                    <!--ICON CONTACTS-->
                    <div class="icon-contacts d-flex align-items-center me-2">
                        <i class="fa-solid fa-circle-notch"></i>
                        <i class="fa-solid fa-message"></i>
                        <i class="fa-solid fa-bars"></i>
                    </div>

                </div>
                <!--NOTIFICATION-->
                <div class="notification border d-flex">
                    <div class="bell d-flex align-items-center my-2 mx-3">
                        <i class="fa-solid fa-bell-slash"></i>
                    </div>
                    <div class="notifications-info my-2">
                        <h3 class="mb-0 mt-1">Ricevi notifiche di nuovi messaggi</h3>
                        <a href="#">Attiva notifiche desktop</a>
                    </div>
                </div>
                <!--SEARCH BAR-->
                <div class="search d-flex justify-content-end align-items-center">
                    <i class="fa-solid fa-magnifying-glass py-2 px-3"></i>
                    <input class="border me-2 ps-2" type="search" placeholder="Cerca o inizia una nuova chat">
                </div>
                <!--CONTACT LIST-->
                <div class="contacts-list">
                    <div v-for="contact in contacts" class="contact-item">
                        <div class="user-info border-bottom border-top d-flex justify-content-between" @click="setContactActive(contact)">
                            <div class="info d-flex">
                                <img :src="'img-bolzapp/avatar'+ contact.avatar +'.jpg'" 
                                class="p-1 ms-1 me-2 my-1" 
                                :alt="contact.name">
                                <div class="info-user mt-1 flex-column">
                                    <h2 class="fs-6 mb-0 pt-1">{{contact.name}}</h2>
                                    <p class="mb-0">{{getLastMessage(contact)}}</p>
                                </div>
                             </div>
                            <!--TIME-->
                            <div class="time">
                                <p class="mb-0 me-2 mt-1">12:10</p>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
            <!--CONTAINER RIGHT-->
            <div class="chat-container d-flex flex-column justify-content-between px-0 col-8">
                <div class="selected-contact border">
                    <div class="user py-1 ps-1 d-flex justify-content-between">
                        <div class="user-info d-flex flex-row">
                            <!--USER ACTIVE-->
                            <div class="info-user-chat d-flex align-items-center">
                                <!--Imposto l'immagine il titolo e il p dinamicamente cosi che cambino per ogni user cliccato-->
                                <img :src="'img-bolzapp/avatar'+ contactActive.avatar +'.jpg'" class="p-1 me-2 my-1" alt="Michele">
                                <div class="info-user mt-1 flex-column">
                                    <h2 class="fs-6 mb-0">{{contactActive.name}}</h2>
                                    <p class="mb-0">Ultimo accesso oggi alle 12:00</p>
                                </div>
                             </div>
                        </div>
                        <div class="icon-contacts d-flex align-items-center me-2">
                            <i class="fa-solid fa-circle-notch"></i>
                            <i class="fa-solid fa-message"></i>
                            <i class="fa-solid fa-bars"></i>
                        </div>
                     </div>
                 </div>
                 <!--CHAT-->
                 <div class="chat flex-grow-1 pt-5 t-5 d-flex flex-column">
                     <div class="message d-flex align-self-end py-2 px-2 mx-4 mb-3 sent" >
                         <div class="text me-3">
                            <p class="mb-1">Hai portato a spasso il cane?</p>
                         </div>
                         <div class="time d-flex py-0">
                            <p class="mb-0 d-flex align-items-end">12:10</p>
                        </div>
                     </div>

                     <div class="message d-flex align-self-end py-2 px-2 mx-4 mb-3 sent">
                        <div class="text me-3">
                           <p class="mb-1">Ricordati di stendere i panni</p>
                        </div>
                        <div class="time d-flex py-0">
                           <p class="mb-0 d-flex align-items-end">12:10</p>
                       </div>
                    </div>

                    <div class="message d-flex align-self-start py-2 align-items-start px-2 mx-4 mb-3 received">
                        <div class="text me-3">
                           <p class="mb-1">Tutto fatto!</p>
                        </div>
                        <div class="time d-flex align-self-end py-0">
                           <p class="mb-0">16:15</p>
                       </div>
                    </div>
                 </div>
                 <!--CHAT ACTIONS-->
                 <div class="chat-actions d-flex align-items-center justify-content-around">
                    <i class="fa-solid fa-face-smile my-2 m-4"></i>
                    <input class="border my-2 ps-3 flex-grow-1" type="search" placeholder="Scrivi un messaggio">
                    <i class="fa-solid fa-microphone my-2 m-4"></i>
                 </div>
            </div>
        </div>

    </div>


    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="script.js"></script>
</body>
</html>